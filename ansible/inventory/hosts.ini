# Ansible Inventory File for DevOps Lab
# Define your hosts and groups here

[all]
# Uncomment and configure based on your setup:

# ============= LOCAL DOCKER HOSTS =============
# For testing with local Docker containers
# localhost ansible_connection=local

# ============= EKS KUBERNETES NODES (AWS) =============
# After running: terraform apply in infra/
# Get node IPs from: terraform output eks_node_ips

# eks-node-1 ansible_host=10.0.1.100 ansible_user=ec2-user
# eks-node-2 ansible_host=10.0.1.101 ansible_user=ec2-user

# ============= API SERVER HOSTS =============
# api-server-1 ansible_host=10.0.2.50 ansible_user=ec2-user
# api-server-2 ansible_host=10.0.2.51 ansible_user=ec2-user

# ============= DATABASE HOSTS =============
# db-server ansible_host=10.0.3.50 ansible_user=ec2-user

# ============= EXAMPLE: LOCALHOST ONLY =============
localhost ansible_connection=local ansible_python_interpreter=/usr/bin/python3


# ============= GROUPS =============

[docker_hosts]
# Hosts that need Docker installed and configured
# localhost

[kubernetes_hosts]
# EKS/K8s worker nodes
# eks-node-1
# eks-node-2

[api_servers]
# Application API servers
# api-server-1
# api-server-2

[databases]
# Database servers (RDS endpoint or self-managed)
# db-server

[dev_environment]
# Development/testing environment
localhost

[prod_environment]
# Production environment
# eks-node-1
# eks-node-2
# api-server-1
# api-server-2

# ============= GROUP VARIABLES =============

[all:vars]
# SSH connection settings
ansible_ssh_common_args=-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null

# Application settings
app_name=devops-lab
app_environment=development
app_version=1.0.0

# Node.js settings
nodejs_version=20
npm_packages=npm,yarn

# Database settings
db_host=localhost
db_port=5432
db_name=devops_lab
db_user=postgres

# Redis settings
redis_host=localhost
redis_port=6379

# Docker settings
docker_registry=docker.io
docker_image_api=devops-lab-api
docker_image_frontend=devops-lab-frontend
docker_image_tag=latest

# Kubernetes settings
kubernetes_cluster_name=devops-lab-prod
kubernetes_namespace=default

# Logging
enable_logging=true
log_level=info

[docker_hosts:vars]
# Docker-specific variables
docker_storage_driver=overlay2
docker_log_driver=json-file

[kubernetes_hosts:vars]
# Kubernetes-specific variables
kubernetes_version=1.28
kubelet_config_dir=/etc/kubernetes/kubelet

[api_servers:vars]
# API-specific variables
api_port=4000
api_workers=4

[databases:vars]
# Database-specific variables
db_backup_enabled=true
db_backup_retention=7
